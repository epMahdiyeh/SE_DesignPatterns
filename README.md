همانطور که در صورت سوال خواسته شده، پیاده سازی برنامه باید بصورت TDD باشد. پس ابتدا تست مربوط به برنامه را مینویسیم. (البته اسکرین شات پس از اتمام کد گرفته شده و به همین دلیل اروری مشاهده نمیشود).
تست‌ها بر اساس شرایط مختلف ورودی و خروجی تعریف میشوند تا اطمینان حاصل شود که هر تغییری در کد، همچنان سازگاری با نیازهای سیستم را حفظ میکند.

<img width="506" alt="2" src="https://github.com/epMahdiyeh/SoftwareLab4/assets/62205305/5bd5d862-c6b8-42c0-971b-1f999c3fac4c">

<img width="881" alt="1" src="https://github.com/epMahdiyeh/SoftwareLab4/assets/62205305/751f6f17-3496-4cea-805c-6c7fdca2a365">


سپس الگوی Strategy و State  را پیاده سازی میکنیم: (بدلیل تعداد زیاد کلاسها اسکرین شاتها در فولدر pics قرار گرفته اند)

ShippingStrategy
این اینترفیس شامل دو متد است که محاسبه قیمت ارسال را بر اساس وزن را انجام میدهد و به کمکStandardShipping و ExpressShipping، به عنوان الگوهای مختلف برای محاسبه قیمت استفاده میشود.

StandardShipping
این کلاس از ShippingStrategy ارث‌بری کرده و قیمت ارسال بر اساس وزن با ضریب 2.5 را محاسبه میکند.

ExpressShipping
این کلاس نیز از ShippingStrategy ارث‌بری میکند و قیمت ارسال را بر اساس وزن ضریب 3.5 محاسبه یکند.

ShippingContext
این کلاس وظیفه نگهداری الگوی Strategy را بر عهده دارد.

PackageState
در این اینترفیس وضعیت بسته به روز رسانی و نهایتا بعنوان خروجی چاپ میشود.

IntransitState 
این کلاس از PackageState ارث‌ بری کرده و در متد printStatus پیام مربوط به وضعیت   intransitچاپ میشود.

DeliveredState
این کلاس نیز از PackageState ارث ‌بری میکند و در متد printStatus پیام مربوط به وضعیت delivered چاپ می‌شود که یعنی بسته رسیده است.

PackageContext
این کلاس وظیفه نگهداری وضعیت بسته را دارد و متدهای آن به تغییر وضعیت بسته و چاپ آن عمل میکنند.

و در انتها ورودیهایی که نیاز داریم از کاربر بگیریم را در متد Main دریافت کرده و همچنین حلقه زمانی رسیدن محصول به مقصد را نیز تعریف میکنیم. خروجی برنامه بصورت زیر خواهد بود:

<img width="335" alt="3" src="https://github.com/epMahdiyeh/SoftwareLab4/assets/62205305/a2edcbde-1a2d-46ad-8762-41a002b07b9c">

ابتدا وزن بسته از کاربر دریافت میشود و پرسیده میشود که آیا بسته به مقصد رسیده یا خیر. سپس تعداد دفعاتی که نیاز است روش ارسال تغییر پیدا کند دریافت میشود و به همان تعداد دفعات با دو روش قیمت بسته محاسبه میشود. در اینجا تعداد دفعات برابر 3 است.


این برنامه الگوهای Strategy و State را برای مدیریت روشهای ارسال (Strategy) و وضعیت بسته (State) به خوبی پیاده‌سازی میکند. الگوی Strategy به کمک اینترفیس ShippingStrategy پیاده ‌سازی شده و این امکان را فراهم میکند که روش ارسال محاسبه شود. همچنین از این الگو برای تغییر روش ارسال در زمان اجرا به کمک  setShippingStrategy استفاده شده است.

همچنین، الگوی State برای مدیریت وضعیت بسته در طول زمان استفاده شده است. هر وضعیت IntransitState و DeliveredState به کمک اینترفیس PackageState پیاده‌سازی شدند. در این الگو تغییر وضعیت بسته در طول زمان به خوبی مدیریت شده و میتوان وضعیت‌ های مختلف بسته را به راحتی تغییر داد و رفتار مرتبط با هر وضعیت را اجرا کرد.
